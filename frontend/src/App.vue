<template>
  <div class="common-layout">
    <el-container class="layout-root">
      <!-- é¡¶éƒ¨ï¼šå¸é¡¶ + å¯¼èˆª -->
      <el-header class="header debug-header">
        <div class="nav container">
          <!-- å·¦ï¼šç«™ç‚¹æ ‡è¯† -->
          <router-link to="/" class="brand">
            <img src="/mirai2cs-logo.png" alt="Mirai2CS Logo" class="brand-logo" />
            <span class="brand-text">Mirai2CS</span>
          </router-link>

          <!-- å³ï¼šå¯¼èˆªé“¾æ¥ -->
          <div class="links">
            <router-link to="/">ğŸ  é¦–é¡µ</router-link>
            <span class="sep">|</span>
            <router-link to="/nihon">ğŸŒ¸ æ—¥æœ¬</router-link>
            <span class="sep">|</span>
            <router-link to="/about">â„¹ï¸ å…³äº</router-link>
            <span class="sep">|</span>
            <router-link to="/history">â²ï¸ ç½‘ç«™æ—¥å¿—</router-link>
          </div>
        </div>
      </el-header>

      <!-- ä¸»ä½“ï¼šå æ»¡å‰©ä½™ç©ºé—´ -->
      <el-main class="main debug-main">
        <div class="container">
          <router-view />
        </div>
      </el-main>

    </el-container>
  </div>
</template>

<script setup lang="ts">
/* æ— é€»è¾‘ï¼Œå¸ƒå±€ç»„ä»¶ */
</script>

<!-- å…¨å±€å˜é‡ï¼šé scopedï¼Œä¾›æ•´ä¸ªç«™ç‚¹ä½¿ç”¨ -->
<style>
:root {
  --app-header-h: 56px;      /* ç»Ÿä¸€ç®¡ç† Header é«˜åº¦ */
  --app-main-pad: 16px;      /* el-main å†…è¾¹è·ï¼ˆä¸Šä¸‹ï¼‰ */
  --app-max-w: 1280px;       /* å†…å®¹æœ€å¤§å®½åº¦ï¼Œå¯æŒ‰éœ€è°ƒåˆ° 1366/1400 */
}

/* å¯é€‰ï¼šå…¨ç«™å®¹å™¨å®½åº¦çº¦æŸï¼ˆå¯¼èˆªå’Œä¸»ä½“ç»Ÿä¸€å·¦å³ç•™ç™½ï¼‰ */
.container {
  max-width: var(--app-max-w);
  margin: 0 auto;
  padding: 0 16px;
}
</style>

<!-- å±€éƒ¨æ ·å¼ï¼šscoped -->
<style scoped>
/* â€”â€” å¸ƒå±€åŸºç¡€ â€”â€” */
.common-layout { width: 100%; height: 100%; }
.layout-root {
  min-height: 100svh;        /* å æ»¡è§†å£é«˜åº¦ï¼ˆæ›´ç¨³äº100vhï¼‰ */
  display: flex;
  flex-direction: column;
}

/* â€”â€” Header â€”â€” */
.header {
  position: sticky; top: 0; z-index: 100;
  height: var(--app-header-h);         /* ä½¿ç”¨ç»Ÿä¸€å˜é‡ */
  display: flex; align-items: center;
  background: var(--el-bg-color);
  box-shadow: 0 1px 4px rgba(0,0,0,.08);
}
.nav {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
}
/* â€”â€” å“ç‰Œ â€”â€” */
.brand {
  display: flex;
  align-items: center;
  text-decoration: none;
  gap: 8px;
}
.brand-logo {
  height: 32px;
  width: 32px;
  border-radius: 6px;
  box-shadow: 0 2px 6px rgba(0,0,0,.15);
}
.brand-text {
  font-weight: 800;
  font-size: 20px;
  background: linear-gradient(90deg, #409eff, #67c23a);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}
.links { display: flex; align-items: center; gap: 10px; }
.nav a { color: var(--el-text-color-primary); text-decoration: none; }
.sep { opacity: .5; }

/* â€”â€” Main â€”â€” */
.main {
  /* å æ»¡â€œå‰©ä½™ç©ºé—´â€ï¼Œä¸éœ€è¦å†ç»™ 100vh/svhï¼Œé¿å…å’Œ header ç›¸åŠ æº¢å‡º */
  flex: 1;
  /* ç»™ router-view çš„ä¸Šä¸‹ç•™ç™½äº¤ç»™å˜é‡ï¼Œé¡µé¢å†…éƒ¨å¯ç”¨å®ƒåš calc */
  padding: var(--app-main-pad) 0;
  overflow: visible;    /* å»ºè®® visibleï¼Œé˜²æ­¢å‡ºç°ä¸»åŒº+å­åŒºåŒæ»šåŠ¨æ¡ */
}

/* â€”â€” è°ƒè¯•åº•è‰² â€”â€” */
.debug-header { background-color: #409EFF22; }
.debug-main   { background-color: #E6A23C22; }
</style>
